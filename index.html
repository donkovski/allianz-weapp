<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Allianz Валутен Калкулатор</title>

<style>

body{
font-family: Arial, sans-serif;
background:#eef3fb;
display:flex;
justify-content:center;
margin-top:30px;
}

/* Allianz стил */
.container{

width:350px;
background:white;
border-radius:14px;
box-shadow:0px 6px 25px rgba(0,0,0,0.15);
overflow:hidden;

}

.header{

background:#003781;
color:white;
padding:15px;
font-size:20px;
text-align:center;
font-weight:bold;

}

.content{

padding:20px;

}

.display{

width:100%;
height:55px;
font-size:26px;
text-align:right;
padding:10px;
border-radius:8px;
border:1px solid #ccc;
margin-bottom:10px;

}

select{

width:100%;
padding:12px;
margin-bottom:10px;
border-radius:8px;
border:1px solid #ccc;
font-size:16px;

}

.convert{

width:100%;
padding:14px;
background:#003781;
color:white;
font-size:18px;
border:none;
border-radius:8px;
margin-top:5px;

}

.result{

margin-top:12px;
text-align:center;
font-size:22px;
font-weight:bold;
color:#003781;

}

/* Калкулатор бутони */

.buttons{

display:grid;
grid-template-columns:repeat(4,1fr);
gap:8px;
margin-top:15px;

}

button{

padding:16px;
font-size:18px;
border:none;
border-radius:8px;
background:#dde6f7;
cursor:pointer;

}

button:hover{

background:#c7d6f5;

}

.status{

text-align:center;
font-size:12px;
color:gray;
margin-bottom:5px;

}

.footer{

background:#003781;
color:white;
text-align:center;
padding:6px;
font-size:12px;

}

</style>
</head>

<body>

<div class="container">

<div class="header">
ALLIANZ Валутен Калкулатор
</div>

<div class="content">

<div class="status" id="status">
Зареждане на курсове...
</div>

<input id="amount" class="display" value="0">

<select id="from"></select>

<select id="to"></select>

<button class="convert" onclick="convert()">
Конвертирай
</button>

<div id="result" class="result">
0
</div>

<div class="buttons">

<button onclick="num(7)">7</button>
<button onclick="num(8)">8</button>
<button onclick="num(9)">9</button>
<button onclick="clearDisplay()">C</button>

<button onclick="num(4)">4</button>
<button onclick="num(5)">5</button>
<button onclick="num(6)">6</button>
<button onclick="dot()">.</button>

<button onclick="num(1)">1</button>
<button onclick="num(2)">2</button>
<button onclick="num(3)">3</button>
<button onclick="back()">←</button>

<button onclick="num(0)">0</button>

</div>

</div>

<div class="footer">
Live Exchange Rates
</div>

</div>

<script>

let rates={}

async function load(){

try{

let res=await fetch("https://open.er-api.com/v6/latest/EUR")

let data=await res.json()

rates=data.rates

let from=document.getElementById("from")
let to=document.getElementById("to")

for(let c in rates){

let o1=document.createElement("option")
o1.value=c
o1.text=c
from.appendChild(o1)

let o2=document.createElement("option")
o2.value=c
o2.text=c
to.appendChild(o2)

}

from.value="EUR"
to.value="ALL"

document.getElementById("status").innerHTML="✓ Allianz Live курсове"

}catch(e){

document.getElementById("status").innerHTML="❌ Няма връзка с API"

}

}

load()


function num(n){

let a=document.getElementById("amount")

if(a.value=="0")
a.value=n
else
a.value+=n

}

function dot(){

let a=document.getElementById("amount")

if(!a.value.includes("."))
a.value+="."

}

function clearDisplay(){

document.getElementById("amount").value="0"

}

function back(){

let a=document.getElementById("amount")

a.value=a.value.slice(0,-1)

if(a.value=="")
a.value="0"

}

function convert(){

let amount=parseFloat(document.getElementById("amount").value)

let from=document.getElementById("from").value
let to=document.getElementById("to").value

let result=(amount/rates[from])*rates[to]

document.getElementById("result").innerHTML=
result.toFixed(2)+" "+to

}

</script>

</body>
</html>